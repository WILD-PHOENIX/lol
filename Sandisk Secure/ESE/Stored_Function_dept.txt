DELIMITER $$
CREATE FUNCTION USER_VALID_DEPTNO (p_dno INT)
RETURNS TINYINT
DETERMINISTIC
BEGIN
    DECLARE v_count INT;
    SELECT COUNT(*) INTO v_count
    FROM DEPT
    WHERE DEPTNO = p_dno;

    IF v_count > 0 THEN
        RETURN 1;  -- TRUE
    ELSE
        RETURN 0;  -- FALSE
    END IF;
END $$
DELIMITER ;

-- Sample Data for DEPT Table
CREATE TABLE DEPT (
    DEPTNO INT PRIMARY KEY,
    DNAME VARCHAR(50),
    LOC VARCHAR(50)
);

INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (10, 'ACCOUNTING', 'NEW YORK');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (20, 'RESEARCH', 'DALLAS');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (30, 'SALES', 'CHICAGO');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (40, 'OPERATIONS', 'BOSTON');
COMMIT;

-- Testing the Function
SELECT USER_VALID_DEPTNO(20) AS result;
